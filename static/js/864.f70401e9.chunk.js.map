{"version":3,"file":"static/js/864.f70401e9.chunk.js","mappings":"8RAAO,IAAMA,EAAU,gCACVC,EAAS,mCAETC,EAAe,mCACfC,EAAoB,mCAEpBC,EAAmB,sCACnBC,EAAwB,qC,mHCLxBC,EAAe,mCAAG,WAAMC,GAAN,yFACXC,MAAM,GAAD,OAClBR,EAAAA,GADkB,iBACFO,EADE,oBACYN,EAAAA,GADZ,oBADM,cACvBQ,EADuB,gBAIVA,EAAIC,OAJM,cAIvBC,EAJuB,yBAKtBA,GALsB,2CAAH,sD,2BCD5B,EAAgC,qCAAhC,EAAiF,iC,SCmFjF,EA5EsB,WAAO,IAAD,IAC1B,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACQC,GAAaC,EAAAA,EAAAA,MAAbD,SACR,GAA0BH,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,EAAU,oBAAGF,EAASG,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAoB3C,OAnBAC,QAAQC,IAAR,UAAeC,KAAKC,OAASR,IAE7BS,EAAAA,EAAAA,YAAU,WAAM,wCACd,6GAEuBtB,EAAgBS,GAFvC,OAEUJ,EAFV,OAGIO,EAASP,IACY,IAAjBA,EAAKkB,UACPf,EAASH,EAAKmB,gBACdZ,EAAS,OANf,gDASIM,QAAQC,IAAR,MACAX,EAAS,EAAD,IAVZ,0DADc,uBAAC,WAAD,wBAcdiB,EACD,GAAE,CAAChB,KAGF,+BACE,UAAC,EAAAiB,SAAD,CAAUC,UAAU,wCAApB,UACGpB,IAAS,wBAAKA,IACdI,IACC,4BACE,2CAAmBF,MACnB,SAAC,KAAD,CAASmB,GAAE,UAAKb,GAAhB,sBACA,iBAAKc,UAAWC,EAAhB,WACE,0BACE,gBACEC,IACEpB,EAAMqB,YAAN,UACOpC,EAAAA,IADP,OACsBe,EAAMqB,aACxBlC,EAAAA,GAENmC,IAAKtB,EAAMuB,WAGf,4BACE,wBAAKvB,EAAMuB,SACX,wCAAgBC,KAAKC,MAAMzB,EAAM0B,YAAjC,QACA,sCACA,uBAAI1B,EAAM2B,YACV,oCACA,wBACG3B,EAAM4B,OAAOC,OAAS,EACnB7B,EAAM4B,OAAOE,KAAI,SAAAC,GACf,OAAO,wBAAoBA,EAAMC,MAAjBD,EAAMzC,GACvB,IACD,qBAIV,iBAAK4B,UAAWC,EAAhB,WACE,SAAC,KAAD,CAASF,GAAI,OAAQZ,MAAO,CAAEC,KAAMJ,EAASG,MAAMC,MAAnD,mBAGA,SAAC,KAAD,CAASW,GAAI,UAAWZ,MAAO,CAAEC,KAAMJ,EAASG,MAAMC,MAAtD,4BAMN,SAAC,KAAD,QAIP,C","sources":["API/api.js","API/getMovieDetails.js","webpack://react-homework-template/./src/components/MoviesDetails/MoviesDetails.module.css?629c","components/MoviesDetails/MoviesDetails.jsx"],"sourcesContent":["export const baseUrl = 'https://api.themoviedb.org/3/';\nexport const apiKey = '81ea3d7bbcc395dafd55ea308df4d534';\n\nexport const imageBaseUrl = 'https://image.tmdb.org/t/p/w500/';\nexport const imageBaseUrlSmall = 'https://image.tmdb.org/t/p/w185/';\n\nexport const imagePlaceholder = 'https://via.placeholder.com/500x750';\nexport const imagePlaceholderSmall = 'https://via.placeholder.com/185x278';\n","import { baseUrl, apiKey } from './api';\n\nexport const getMovieDetails = async id => {\n  const res = await fetch(\n    `${baseUrl}movie/${id}?api_key=${apiKey}&language=en-US`\n  );\n  const data = await res.json();\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"MoviesDetails\":\"MoviesDetails_MoviesDetails__yqH8B\",\"LinkesBox\":\"MoviesDetails_LinkesBox__UT9LJ\"};","import { getMovieDetails } from 'API/getMovieDetails';\nimport { imageBaseUrl, imagePlaceholder } from '../../API/api';\n\nimport { Suspense, useEffect, useState } from 'react';\nimport { NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\n\nimport css from './MoviesDetails.module.css';\n\nconst MoviesDetails = () => {\n  const [error, setError] = useState(null);\n  const { moviesId } = useParams();\n  const [movie, setMovie] = useState(null);\n\n  const location = useLocation();\n  const backToLink = location.state?.from ?? '/';\n  console.log(`${Date.now()}`, location);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const data = await getMovieDetails(moviesId);\n        setMovie(data);\n        if (data.success === false) {\n          setError(data.status_message);\n          setMovie(null);\n        }\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      }\n    }\n    fetchData();\n  }, [moviesId]);\n\n  return (\n    <>\n      <Suspense fallback={<div>Loading...</div>}>\n        {error && <h2>{error}</h2>}\n        {movie && (\n          <div>\n            <h1>MoviesDetails {moviesId}</h1>\n            <NavLink to={`${backToLink}`}>Go back</NavLink>\n            <div className={css.MoviesDetails}>\n              <div>\n                <img\n                  src={\n                    movie.poster_path\n                      ? `${imageBaseUrl}${movie.poster_path}`\n                      : imagePlaceholder\n                  }\n                  alt={movie.title}\n                />\n              </div>\n              <div>\n                <h2>{movie.title}</h2>\n                <p>User Score: {Math.round(movie.popularity)}%</p>\n                <h3>Overview</h3>\n                <p>{movie.overview}</p>\n                <h3>Genres</h3>\n                <ul>\n                  {movie.genres.length > 0\n                    ? movie.genres.map(genre => {\n                        return <li key={genre.id}>{genre.name}</li>;\n                      })\n                    : 'No genres'}\n                </ul>\n              </div>\n            </div>\n            <div className={css.LinkesBox}>\n              <NavLink to={'cast'} state={{ from: location.state.from }}>\n                Cast\n              </NavLink>\n              <NavLink to={'reviews'} state={{ from: location.state.from }}>\n                Reviews\n              </NavLink>\n            </div>\n          </div>\n        )}\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MoviesDetails;\n"],"names":["baseUrl","apiKey","imageBaseUrl","imageBaseUrlSmall","imagePlaceholder","imagePlaceholderSmall","getMovieDetails","id","fetch","res","json","data","useState","error","setError","moviesId","useParams","movie","setMovie","location","useLocation","backToLink","state","from","console","log","Date","now","useEffect","success","status_message","fetchData","Suspense","fallback","to","className","css","src","poster_path","alt","title","Math","round","popularity","overview","genres","length","map","genre","name"],"sourceRoot":""}